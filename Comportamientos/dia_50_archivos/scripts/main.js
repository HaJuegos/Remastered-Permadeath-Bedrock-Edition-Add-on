/*
This file belongs to: "@CibNumeritos" (Ha Juegos Copyright 2022), Any unauthorized modification or change will be penalized, more information to authorize your copies you can contact me on discord: https://discord.gg/p6a7tqVJxn
Twitter: https://twitter.com/CibNumeritos
*********************************************************************
Este archivo pertenece a: "@CibNumeritos" (Ha Juegos Copyright 2022), Cualquier modificación o cambio no autorizado será sancionado, más información para autorizar tus copias puedes contactar conmigo en discord: https://discord.gg/p6a7tqVJxn
Su Twitter: https://twitter.com/CibNumeritos
*/
import{PlayerInventoryComponentContainer,world}from"mojang-minecraft";function runCommand(command){try{return{error:false,...world.getDimension('overworld').runCommand(command)};}
catch(error){return{error:true};};};world.events.playerJoin.subscribe(({player})=>{player.addTag('{ActivatedTotem?:0}');player.removeTag('{ActivatedTotem?:1}');});world.events.entityCreate.subscribe(data=>{if(data.entity.id=="minecraft:cat"){if(data.entity.hasTag("supernova")){tellAllRaw(`${Math.floor(data.entity.location.x)}, ${Math.floor(data.entity.location.y)}, ${Math.floor(data.entity.location.z)}`)}}})
function tellAllRaw(message){runCommand(`tellraw @a {"rawtext":[{"translate":"mob.message.cat_nova", "with": ["nadapapu"]},{"text":"${message.replace(/\"/g, '\\"')}"}]}`)}
world.events.entityHurt.subscribe(({damage,hurtEntity,projectile})=>{if(hurtEntity.id=='minecraft:player'){try{let player=Array.from(world.getPlayers()).find(plr=>plr.nameTag==hurtEntity.nameTag);let health=player.getComponent('minecraft:health').current;let hasActivated=player.hasTag('{ActivatedTotem?:1}');let check;if(!player.runCommand(`testfor @s[hasitem={location=slot.weapon.offhand,item=minecraft:totem_of_undying,data=1,slot=0}]`).error||player.runCommand(`testfor @s[hasitem={location=slot.weapon.mainhand,item=minecraft:totem_of_undying,data=1,slot=0}]`).error){check=true;}else{check=false;};if(check&&damage<0&&hasActivated){player.runCommand(`function achievements_functions/medal_achievement`);player.runCommand(`scoreboard players set @s TotemHandleTime 5`);}else if(check&&damage<0&&health==1){player.addTag('{ActivatedTotem?:1}')
player.removeTag('{ActivatedTotem?:0}')
player.runCommand(`function achievements_functions/medal_achievement`)
player.runCommand(`scoreboard players set @s TotemHandleTime 5`)};if(!player.runCommand(`testfor @s[hasitem={location=slot.weapon.offhand,item=minecraft:totem_of_undying,slot=0}]`).error||player.runCommand(`testfor @s[hasitem={location=slot.weapon.mainhand,item=minecraft:totem_of_undying,slot=0}]`).error){check=true;}else{check=false;};if(check&&damage<0&&hasActivated){player.runCommand(`function achievements_functions/totem_system_and_achievement`);player.runCommand(`scoreboard players set @s TotemHandleTime 5`);}else if(check&&damage<0&&health==1){player.addTag('{ActivatedTotem?:1}')
player.removeTag('{ActivatedTotem?:0}')
player.runCommand(`function achievements_functions/totem_system_and_achievement`)
player.runCommand(`scoreboard players set @s TotemHandleTime 5`)};}catch(error){};};});world.events.tick.subscribe(t=>{try{for(const p of world.getPlayers()){switch(true){case runCommand(`clear "${p.nameTag}" cobblestone 0 0`).error==false:{runCommand(`execute "${p.nameTag}" ~ ~ ~ function achievements_functions/stone_age_achievement`);}break;case runCommand(`clear "${p.nameTag}" iron_ingot 0 0`).error==false:{runCommand(`execute "${p.nameTag}" ~ ~ ~ function achievements_functions/acquire_hadware_achievement`);}break;case runCommand(`clear "${p.nameTag}" iron_pickaxe 0 0`).error==false:{runCommand(`execute "${p.nameTag}" ~ ~ ~ function achievements_functions/iron_pick_achievement`);}break;case runCommand(`clear "${p.nameTag}" diamond 0 0`).error==false:{runCommand(`execute "${p.nameTag}" ~ ~ ~ function achievements_functions/diamonds_achievement`);}break;case runCommand(`clear "${p.nameTag}" beacon 0 0`).error==false:{runCommand(`execute "${p.nameTag}" ~ ~ ~ function achievements_functions/beacon_achievement`);}break;case runCommand(`clear "${p.nameTag}" blaze_rod 0 0`).error==false:{runCommand(`execute "${p.nameTag}" ~ ~ ~ function achievements_functions/blazerod_achievement`);}break;case runCommand(`clear "${p.nameTag}" dragon_egg 0 0`).error==false:{runCommand(`execute "${p.nameTag}" ~ ~ ~ function achievements_functions/generation_achievement`);}break;case runCommand(`clear "${p.nameTag}" skull 1 0`).error==false:{runCommand(`execute "${p.nameTag}" ~ ~ ~ function achievements_functions/wither_skull_achievement`);}break;case runCommand(`clear "${p.nameTag}" netherite_hoe 0 0`).error==false:{runCommand(`execute "${p.nameTag}" ~ ~ ~ function achievements_functions/hoe_netherite_achievement`);}break;case runCommand(`clear "${p.nameTag}" ha:shulker_shell 0 0`).error==false:{runCommand(`execute "${p.nameTag}" ~ ~ ~ function achievements_functions/shulker_achievement`);}break;case runCommand(`clear "${p.nameTag}" undyed_shulker_box 0 0`).error==false:{runCommand(`execute "${p.nameTag}" ~ ~ ~ function achievements_functions/shulker_achievement`);}break;case runCommand(`clear "${p.nameTag}" ha:melted_netherite 0 0`).error==false:{runCommand(`execute "${p.nameTag}" ~ ~ ~ function achievements_functions/dumb_achievement`);}break;case runCommand(`clear "${p.nameTag}" ha:broken_netherite 0 0`).error==false:{runCommand(`execute "${p.nameTag}" ~ ~ ~ function achievements_functions/dumb_achievement`);}break;case runCommand(`clear "${p.nameTag}" enchanted_golden_apple 0 0`).error==false:{runCommand(`execute "${p.nameTag}" ~ ~ ~ function achievements_functions/appleenchanted_achievement`);}break;case runCommand(`clear "${p.nameTag}" ha:relic_of_the_end 0 0`).error==false:{runCommand(`execute "${p.nameTag}" ~ ~ ~ function achievements_functions/relic_give_achievement`);}break;};};}catch(e){};});world.events.tick.subscribe(t=>{try{for(const plr of world.getPlayers()){if(runCommand(`clear "${plr.nameTag}" ha:relic_of_the_end 0 0`).error==false){runCommand(`execute "${plr.nameTag}" ~ ~ ~ function relic_system_functions/relic_in_inventory`)}else if(runCommand(`clear "${plr.nameTag}" ha:relic_of_the_end 0 0`).error==true){runCommand(`execute "${plr.nameTag}" ~ ~ ~ function relic_system_functions/no_relic_inventory`)}}}catch(e){}})
world.events.blockBreak.subscribe(data=>{let players=Array.from(world.getPlayers());for(const plr of players){let container=plr.getComponent("inventory").container
let hand=container.getItem(plr.selectedSlot)
if(plr.nameTag==data.player.name&&hand.id=="minecraft:netherite_pickaxe"||hand.id=="minecraft:netherite_axe"||hand.id=="minecraft:netherite_hoe"||hand.id=="minecraft:netherite_shovel"||hand.id=="minecraft:netherite_sword"){return;}else if(plr.nameTag==data.player.name&&hand==undefined){runCommand(`damage "${plr.nameTag}" 1 temperature`)}else runCommand(`damage "${plr.nameTag}" 1 temperature`)}})
	/*
This file belongs to: "@CibNumeritos" (Ha Juegos Copyright 2022), Any unauthorized modification or change will be penalized, more information to authorize your copies you can contact me on discord: https://discord.gg/p6a7tqVJxn
Twitter: https://twitter.com/CibNumeritos
*********************************************************************
Este archivo pertenece a: "@CibNumeritos" (Ha Juegos Copyright 2022), Cualquier modificación o cambio no autorizado será sancionado, más información para autorizar tus copias puedes contactar conmigo en discord: https://discord.gg/p6a7tqVJxn
Su Twitter: https://twitter.com/CibNumeritos
*/